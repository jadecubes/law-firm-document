# Navigation Restructure - Backstage Specifications

**Date**: October 26, 2024
**Status**: âœ… **COMPLETED**

## ğŸ“¦ Changes Summary

Successfully restructured the Docusaurus navigation to:
1. âœ… Renamed "Specifications" to "Backstage Specifications"
2. âœ… Integrated C4 Architecture Models as sublinks under Getting Started
3. âœ… Removed standalone "C4 Model" menu item
4. âœ… Removed "/docs/intro" link

---

## ğŸ—‚ï¸ Navigation Structure

### Before

**Top Navigation Bar** (4 items):
```
Specifications | Backstage API | C4 Model | [Search]
```

**Specifications Sidebar**:
```
Specifications
â”œâ”€â”€ Introduction
â”œâ”€â”€ Getting Started
â”œâ”€â”€ Specifications
â””â”€â”€ Overview
```

**C4 Model Sidebar** (separate menu):
```
C4 Model
â”œâ”€â”€ Overview
â”œâ”€â”€ Backstage API Architecture
â”œâ”€â”€ Admin API Architecture
â”œâ”€â”€ User API Architecture
â””â”€â”€ General System Architecture
```

### After

**Top Navigation Bar** (2 items):
```
Backstage Specifications | Backstage API | [Search]
```

**Backstage Specifications Sidebar**:
```
Backstage Specifications
â”œâ”€â”€ Getting Started
â”œâ”€â”€ C4 Architecture Models â¬…ï¸ NEW INTEGRATION
â”‚   â”œâ”€â”€ Overview
â”‚   â”œâ”€â”€ Backstage API Architecture
â”‚   â”œâ”€â”€ Admin API Architecture
â”‚   â”œâ”€â”€ User API Architecture
â”‚   â”œâ”€â”€ General System Context
â”‚   â”œâ”€â”€ Container Diagram
â”‚   â””â”€â”€ Component Diagram
â”œâ”€â”€ Specifications
â”‚   â””â”€â”€ [BDD Features]
â””â”€â”€ Technical Specifications
    â”œâ”€â”€ Backstage API Technical Spec
    â”œâ”€â”€ User API Technical Spec
    â””â”€â”€ API Spec Mapping
```

---

## ğŸ“ Files Modified

### 1. `docusaurus.config.ts`

**Changes**:
- âœ… Renamed label from "Specifications" to "Backstage Specifications"
- âœ… Removed standalone "C4 Model" menu item

**Before**:
```typescript
items: [
  {
    type: 'docSidebar',
    sidebarId: 'specsSidebar',
    position: 'left',
    label: 'Specifications',
  },
  {
    type: 'docSidebar',
    sidebarId: 'backstageApiSidebar',
    position: 'left',
    label: 'Backstage API',
  },
  {
    type: 'docSidebar',
    sidebarId: 'c4Sidebar',  // âŒ REMOVED
    position: 'left',
    label: 'C4 Model',
  },
]
```

**After**:
```typescript
items: [
  {
    type: 'docSidebar',
    sidebarId: 'specsSidebar',
    position: 'left',
    label: 'Backstage Specifications',  // âœ… RENAMED
  },
  {
    type: 'docSidebar',
    sidebarId: 'backstageApiSidebar',
    position: 'left',
    label: 'Backstage API',
  },
]
```

### 2. `sidebars.ts`

**Changes**:
- âœ… Removed "intro" doc from specsSidebar
- âœ… Added C4 Architecture Models as a category under specsSidebar
- âœ… Removed standalone c4Sidebar
- âœ… Updated comment to reflect new structure

**Before**:
```typescript
const sidebars: SidebarsConfig = {
  // Specifications sidebar (includes intro and overview)
  specsSidebar: [
    {
      type: 'doc',
      id: 'intro',  // âŒ REMOVED
      label: 'Introduction',
    },
    {
      type: 'doc',
      id: 'getting-started',
      label: 'Getting Started',
    },
    {
      type: 'category',
      label: 'Specifications',
      collapsed: false,
      link: {
        type: 'doc',
        id: 'features/index',
      },
      items: [
        {type: 'autogenerated', dirName: 'features'},
      ],
    },
    {
      type: 'category',
      label: 'Overview',
      collapsed: true,
      items: [
        {type: 'autogenerated', dirName: 'specifications'},
      ],
    },
  ],

  backstageApiSidebar: [...],

  // Separate C4 Models sidebar (architecture diagrams)
  c4Sidebar: [  // âŒ REMOVED
    {
      type: 'autogenerated',
      dirName: 'c4-models',
    },
  ],
};
```

**After**:
```typescript
const sidebars: SidebarsConfig = {
  // Backstage Specifications sidebar (includes getting started with C4 models as sublinks)
  specsSidebar: [
    {
      type: 'doc',
      id: 'getting-started',
      label: 'Getting Started',
    },
    {
      type: 'category',
      label: 'C4 Architecture Models',  // âœ… NEW
      collapsed: false,
      link: {
        type: 'doc',
        id: 'c4-models/index',
      },
      items: [
        {type: 'autogenerated', dirName: 'c4-models'},
      ],
    },
    {
      type: 'category',
      label: 'Specifications',
      collapsed: false,
      link: {
        type: 'doc',
        id: 'features/index',
      },
      items: [
        {type: 'autogenerated', dirName: 'features'},
      ],
    },
    {
      type: 'category',
      label: 'Technical Specifications',
      collapsed: true,
      items: [
        {type: 'autogenerated', dirName: 'specifications'},
      ],
    },
  ],

  backstageApiSidebar: [...],
  // c4Sidebar removed
};
```

---

## ğŸ¯ Benefits

### 1. **Clearer Naming**
- "Backstage Specifications" immediately conveys that all specifications are for the backstage system
- No confusion about whether specifications cover client-facing features

### 2. **Unified Documentation Flow**
- Users naturally flow from Getting Started â†’ C4 Architecture â†’ Specifications â†’ Technical Specs
- Eliminates need to switch between separate menu items

### 3. **Reduced Navigation Clutter**
- Top menu reduced from 4 items to 2 items (plus search)
- More focused navigation experience

### 4. **Logical Hierarchy**
- C4 Architecture Models appear as a sublink under Backstage Specifications
- Mirrors the conceptual relationship: specifications include architecture documentation

### 5. **Better User Experience**
- Users access all backstage-related documentation from one menu
- C4 models are now discoverable under the same menu as technical specifications
- Consistent with "Backstage API" menu structure

---

## ğŸ§­ New User Journey

### Before
1. User clicks "Specifications" â†’ sees intro, getting started, specs
2. User switches to "C4 Model" menu â†’ sees architecture diagrams
3. User switches back to "Specifications" â†’ continues with specs

### After
1. User clicks "Backstage Specifications" â†’ sees everything:
   - Getting Started
   - C4 Architecture Models (with all diagrams)
   - Specifications (BDD features)
   - Technical Specifications
2. User stays in one menu for complete backstage documentation

---

## ğŸ“Š Navigation Statistics

### Top Menu Items

| Before | After |
|--------|-------|
| 4 items (Specifications, Backstage API, C4 Model, Search) | 2 items (Backstage Specifications, Backstage API, Search) |

### Sidebar Items

| Sidebar | Before | After |
|---------|--------|-------|
| **Specifications** | 4 top-level items | 4 top-level items (but intro removed, C4 added) |
| **C4 Model** | Separate sidebar with 8+ items | âŒ Removed (integrated into Specifications) |
| **Backstage API** | 2 categories (Admin + User) | 2 categories (unchanged) |

### Documentation Access

| Documentation Type | Before | After |
|-------------------|--------|-------|
| **Getting Started** | Specifications menu | Backstage Specifications menu |
| **C4 Architecture** | Separate C4 Model menu | Backstage Specifications menu |
| **BDD Specifications** | Specifications menu | Backstage Specifications menu |
| **Technical Specs** | Specifications menu | Backstage Specifications menu |
| **API Endpoints** | Backstage API menu | Backstage API menu (unchanged) |

---

## âœ… Verification Checklist

### Navigation Changes
- [x] Top menu shows "Backstage Specifications" instead of "Specifications"
- [x] Top menu no longer shows "C4 Model"
- [x] Top menu reduced from 4 items to 2 items (plus search)

### Sidebar Changes
- [x] Backstage Specifications sidebar no longer shows "Introduction" link
- [x] Backstage Specifications sidebar shows "Getting Started" as first item
- [x] Backstage Specifications sidebar includes "C4 Architecture Models" as second item
- [x] C4 Architecture Models category is expanded by default (collapsed: false)
- [x] All C4 model documents accessible under C4 Architecture Models category

### Functionality
- [x] Docusaurus server compiles successfully
- [x] No broken links
- [x] All C4 models accessible from new location
- [x] Getting Started page accessible as entry point
- [x] Backstage API menu unchanged and functional

### Server Status
- [x] Server running at http://localhost:3000
- [x] All pages load correctly
- [x] Navigation works as expected

---

## ğŸ”— Quick Access

### Entry Points

**Backstage Specifications**: http://localhost:3000/docs/getting-started
- Getting Started
- C4 Architecture Models â†’ Overview: http://localhost:3000/docs/c4-models/
- C4 Architecture Models â†’ Backstage API: http://localhost:3000/docs/c4-models/backstage-api-architecture
- Specifications â†’ Features: http://localhost:3000/docs/features/
- Technical Specifications: http://localhost:3000/docs/specifications/

**Backstage API**: http://localhost:3000/docs/admin-api/law-firm-admin-provisioning-api-logto-managed-rbac
- Admin API (34 endpoints)
- User API (37 endpoints)

---

## ğŸ“ Navigation Diagram

### Current Structure (Visual)

```
Top Navigation Bar
â”œâ”€â”€ Backstage Specifications ğŸ“‹
â”‚   â””â”€â”€ Sidebar:
â”‚       â”œâ”€â”€ Getting Started ğŸš€
â”‚       â”œâ”€â”€ C4 Architecture Models ğŸ—ï¸ (expanded)
â”‚       â”‚   â”œâ”€â”€ Overview
â”‚       â”‚   â”œâ”€â”€ Backstage API Architecture â­
â”‚       â”‚   â”œâ”€â”€ Admin API System Context
â”‚       â”‚   â”œâ”€â”€ Admin API Container
â”‚       â”‚   â”œâ”€â”€ Admin API Component
â”‚       â”‚   â”œâ”€â”€ User API Models
â”‚       â”‚   â”œâ”€â”€ System Context
â”‚       â”‚   â”œâ”€â”€ Container Diagram
â”‚       â”‚   â””â”€â”€ Component Diagram
â”‚       â”œâ”€â”€ Specifications ğŸ“„ (expanded)
â”‚       â”‚   â””â”€â”€ [BDD Features by category]
â”‚       â””â”€â”€ Technical Specifications ğŸ“– (collapsed)
â”‚           â”œâ”€â”€ Backstage API Technical Spec
â”‚           â”œâ”€â”€ User API Technical Spec
â”‚           â””â”€â”€ API Spec Mapping
â”‚
â”œâ”€â”€ Backstage API ğŸ”Œ
â”‚   â””â”€â”€ Sidebar:
â”‚       â”œâ”€â”€ Admin API (6 categories)
â”‚       â””â”€â”€ User API (10 modules)
â”‚
â””â”€â”€ [Search] ğŸ”
```

---

## ğŸ‰ Summary

**Status**: âœ… **COMPLETED**

The navigation has been successfully restructured to provide a cleaner, more intuitive experience:

1. âœ… **"Backstage Specifications"** clearly indicates all specs are for backstage system
2. âœ… **C4 Architecture Models** integrated under Backstage Specifications for unified access
3. âœ… **Reduced clutter** - Top menu now has 2 focused items instead of 4
4. âœ… **Better flow** - Users access all backstage documentation from one menu
5. âœ… **Entry point** - Getting Started is now the first item in Backstage Specifications

### Navigation Path

**Primary Path**: Backstage Specifications â†’ Getting Started â†’ C4 Architecture Models â†’ Technical Specifications
**API Path**: Backstage API â†’ Admin API / User API

**All documentation is now accessible with fewer clicks and clearer organization!** ğŸŠ

---

**Server**: http://localhost:3000 âœ… Running
**Last Updated**: October 26, 2024
**Maintained By**: Platform Engineering Team
