---
id: provision-a-user-identity-profile-roles-optional-credentials
title: "Provision a user (identity + profile + roles + optional credentials)"
description: "Generic provisioning for any staff. Replaces lawyer/staff-specific endpoints."
sidebar_label: "Provision a user (identity + profile + roles + optional credentials)"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/admin-api/law-firm-admin-provisioning-api-logto-managed-rbac
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Provision a user (identity + profile + roles + optional credentials)"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/admin/law-firms/{lawFirmId}/users"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Generic provisioning for any staff. Replaces lawyer/staff-specific endpoints.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"path","name":"lawFirmId","required":true,"schema":{"type":"string"}},{"in":"header","name":"Idempotency-Key","required":false,"description":"Provide for safely retryable POSTs.","schema":{"type":"string","maxLength":64}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["identity","profile"],"properties":{"identity":{"type":"object","properties":{"logtoUserId":{"type":"string","description":"Link existing Logto user"},"createInLogto":{"type":"boolean","default":true},"email":{"type":"string","format":"email"},"name":{"type":"string"},"invite":{"type":"object","properties":{"send":{"type":"boolean","default":false},"locale":{"type":"string","default":"en-US"},"redirectUri":{"type":"string"}}}},"oneOf":[{"required":["logtoUserId"]},{"required":["createInLogto","email","name"]}],"title":"ProvisionUserIdentity"},"profile":{"type":"object","required":["displayName"],"properties":{"displayName":{"type":"string"},"jobTitle":{"type":"string","nullable":true},"officeLocation":{"type":"string","nullable":true},"visibility":{"type":"string","enum":["public","internal","hidden"],"default":"internal"},"listed":{"type":"boolean","default":false},"listedOrder":{"type":"integer","nullable":true},"isActive":{"type":"boolean","default":true}},"title":"ProvisionUserProfile"},"roles":{"type":"array","description":"e.g., [\"LAWYER\"], [\"PARALEGAL\"], etc.","items":{"type":"string","enum":["LAWYER","PARALEGAL","RECEPTIONIST","BILLING_ADMIN","IT_ADMIN","INTERN","OTHER"]}},"credentials":{"type":"array","description":"Optional initial professional credentials for the user.","items":{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["BAR_LICENSE","NOTARY","OTHER"]},"jurisdictionCode":{"type":"string"},"number":{"type":"string"},"issuedAt":{"type":"string","format":"date"},"status":{"type":"string"}},"title":"AddCredentialRequest"}},"logtoOrgRoles":{"type":"array","description":"e.g., [\"admin\"] or [\"member\"]","items":{"type":"string"}},"metadata":{"type":"object","additionalProperties":true}},"title":"ProvisionUserRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Created","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string"},"logtoUserId":{"type":"string","nullable":true},"name":{"type":"string"},"email":{"type":"string","format":"email"},"emailVerified":{"type":"boolean","nullable":true},"isActive":{"type":"boolean","default":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"title":"AuthUser"},"firmUserProfile":{"type":"object","properties":{"id":{"type":"string"},"userId":{"type":"string"},"lawFirmId":{"type":"string"},"displayName":{"type":"string"},"jobTitle":{"type":"string","nullable":true},"photoUrl":{"type":"string","nullable":true},"officeLocation":{"type":"string","nullable":true},"visibility":{"type":"string","enum":["public","internal","hidden"],"default":"internal"},"listed":{"type":"boolean","default":false},"listedOrder":{"type":"integer","nullable":true},"roles":{"type":"array","description":"Functional roles this person has in the firm.","items":{"type":"string","enum":["LAWYER","PARALEGAL","RECEPTIONIST","BILLING_ADMIN","IT_ADMIN","INTERN","OTHER"]}},"isLawyer":{"type":"boolean","deprecated":true,"description":"Use roles[] (contains LAWYER) instead."},"practiceTitle":{"type":"string","nullable":true},"practiceStartDate":{"type":"string","format":"date","nullable":true},"isActive":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"title":"FirmUserProfile"},"credentials":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["BAR_LICENSE","NOTARY","OTHER"]},"jurisdictionCode":{"type":"string","nullable":true},"number":{"type":"string","nullable":true},"issuedAt":{"type":"string","format":"date","nullable":true},"status":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}},"title":"ProfessionalCredential"}}},"title":"ProvisionUserResponse"}}}},"400":{"description":"Error payload","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"details":{"type":"array","items":{"type":"object","properties":{"field":{"type":"string"},"message":{"type":"string"}}}},"requestId":{"type":"string"}},"required":["code","message"],"example":{"code":"SUPPORT_SESSION_EXISTS","message":"An active session already exists for this target","requestId":"req_123"},"title":"ErrorResponse"}}}},"401":{"description":"Error payload","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"details":{"type":"array","items":{"type":"object","properties":{"field":{"type":"string"},"message":{"type":"string"}}}},"requestId":{"type":"string"}},"required":["code","message"],"example":{"code":"SUPPORT_SESSION_EXISTS","message":"An active session already exists for this target","requestId":"req_123"},"title":"ErrorResponse"}}}},"403":{"description":"Error payload","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"details":{"type":"array","items":{"type":"object","properties":{"field":{"type":"string"},"message":{"type":"string"}}}},"requestId":{"type":"string"}},"required":["code","message"],"example":{"code":"SUPPORT_SESSION_EXISTS","message":"An active session already exists for this target","requestId":"req_123"},"title":"ErrorResponse"}}}},"404":{"description":"Error payload","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"details":{"type":"array","items":{"type":"object","properties":{"field":{"type":"string"},"message":{"type":"string"}}}},"requestId":{"type":"string"}},"required":["code","message"],"example":{"code":"SUPPORT_SESSION_EXISTS","message":"An active session already exists for this target","requestId":"req_123"},"title":"ErrorResponse"}}}},"409":{"description":"Error payload","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"details":{"type":"array","items":{"type":"object","properties":{"field":{"type":"string"},"message":{"type":"string"}}}},"requestId":{"type":"string"}},"required":["code","message"],"example":{"code":"SUPPORT_SESSION_EXISTS","message":"An active session already exists for this target","requestId":"req_123"},"title":"ErrorResponse"}}}}}}
>
  
</StatusCodes>


      